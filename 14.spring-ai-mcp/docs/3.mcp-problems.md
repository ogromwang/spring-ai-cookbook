# MCP çš„å±€é™æ€§ä¸å®‰å…¨æ€§

MCPï¼ˆModel Context Protocolï¼‰ä½œä¸ºä¸€ç§æ ‡å‡†åŒ–çš„è¿œç¨‹æœåŠ¡æ¥å£ï¼Œä¸º AI åº”ç”¨æä¾›äº†å¼ºå¤§çš„æ‰©å±•èƒ½åŠ›ã€‚ç„¶è€Œï¼Œåœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å……åˆ†äº†è§£ MCP çš„å±€é™æ€§å’Œå®‰å…¨æ€§é—®é¢˜ï¼Œä»¥ä¾¿åšå‡ºæ­£ç¡®çš„æ¶æ„å†³ç­–å’Œå®‰å…¨é˜²æŠ¤ã€‚

- [çŸ¥ä¹æŠ€æœ¯åˆ†æ](https://zhuanlan.zhihu.com/p/1900540531131523166) - MCP æ·±åº¦è§£æ
- [CSDN æŠ€æœ¯æ–‡ç« ](https://blog.csdn.net/csdnnews/article/details/147261644) - MCP æŠ€æœ¯ä»‹ç»
- [Red Hat å®‰å…¨åˆ†æ](https://www.redhat.com/zh-cn/blog/model-context-protocol-mcp-understanding-security-risks-and-controls) - MCP å®‰å…¨é£é™©å’Œæ§åˆ¶æªæ–½

## 1. å±€é™æ€§

### 1.1 ä¾èµ–è¿œç¨‹æœåŠ¡çš„å¯ç”¨æ€§

**é—®é¢˜æè¿°ï¼š**
MCP å®¢æˆ·ç«¯ä¾èµ–äºè¿œç¨‹ MCP æœåŠ¡å™¨çš„å¯ç”¨æ€§ã€‚å¦‚æœæœåŠ¡ç«¯æŒ‚æ‰æˆ–ç½‘ç»œå‡ºç°é—®é¢˜ï¼Œå®¢æˆ·ç«¯å°†æ— æ³•æ­£å¸¸å·¥ä½œã€‚

**å½±å“ï¼š**

- å®¢æˆ·ç«¯åŠŸèƒ½å®Œå…¨å¤±æ•ˆ
- ç”¨æˆ·ä½“éªŒä¸‹é™
- å¯èƒ½å¯¼è‡´ä¸šåŠ¡ä¸­æ–­

**è§£å†³æ–¹æ¡ˆï¼š**

1. **æœåŠ¡å¥åº·æ£€æŸ¥**
   ```java
   @Component
   public class McpHealthChecker {
       
       @Scheduled(fixedRate = 30000) // æ¯30ç§’æ£€æŸ¥ä¸€æ¬¡
       public void checkMcpServerHealth(List<McpSyncClient> clients) {
           clients.forEach(client -> {
               try {
                   // å°è¯•åˆ—å‡ºå·¥å…·ï¼ŒéªŒè¯æœåŠ¡å¯ç”¨æ€§
                   client.listTools();
                   log.info("MCP æœåŠ¡å¥åº·");
               } catch (Exception e) {
                   log.error("MCP æœåŠ¡ä¸å¯ç”¨", e);
                   // è§¦å‘é™çº§é€»è¾‘æˆ–å‘Šè­¦
               }
           });
       }
   }
   ```

2. **å®ç°é™çº§ç­–ç•¥**
   ```java
   @Service
   public class WeatherServiceWithFallback {
       
       @Autowired(required = false)
       private List<McpSyncClient> mcpClients;
       
       public String queryWeather(String city) {
           try {
               // å°è¯•ä½¿ç”¨ MCP æœåŠ¡
               return queryWeatherViaMcp(city);
           } catch (Exception e) {
               log.warn("MCP æœåŠ¡ä¸å¯ç”¨ï¼Œä½¿ç”¨é™çº§æ–¹æ¡ˆ", e);
               // é™çº§åˆ°æœ¬åœ°å®ç°æˆ–ç¼“å­˜æ•°æ®
               return queryWeatherFromCache(city);
           }
       }
   }
   ```

3. **ä½¿ç”¨æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡**
    - é…ç½®å¤šä¸ª MCP æœåŠ¡å™¨å®ä¾‹
    - ä½¿ç”¨è´Ÿè½½å‡è¡¡å™¨åˆ†å‘è¯·æ±‚
    - å®ç°è‡ªåŠ¨æ•…éšœè½¬ç§»

### 1.2 æ— æ³•æ§åˆ¶æœåŠ¡ç«¯é€»è¾‘

**é—®é¢˜æè¿°ï¼š**
MCP å®¢æˆ·ç«¯æ— æ³•æ§åˆ¶æœåŠ¡ç«¯çš„ä¸šåŠ¡é€»è¾‘ã€‚å¦‚æœæœåŠ¡ç«¯æœ‰å®‰å…¨é—®é¢˜æˆ–é€»è¾‘é”™è¯¯ï¼Œå®¢æˆ·ç«¯ä¼šè¢«ä¸€å¹¶å¸¦å…¥ã€‚

**å½±å“ï¼š**

- å®‰å…¨æ¼æ´å¯èƒ½å½±å“å®¢æˆ·ç«¯
- æœåŠ¡ç«¯é€»è¾‘é”™è¯¯å¯¼è‡´å®¢æˆ·ç«¯åŠŸèƒ½å¼‚å¸¸
- éš¾ä»¥æ’æŸ¥å’Œä¿®å¤é—®é¢˜

**è§£å†³æ–¹æ¡ˆï¼š**

1. **æœåŠ¡ç«¯ä»£ç å®¡æŸ¥**
    - åªä½¿ç”¨å¯ä¿¡çš„ MCP æœåŠ¡å™¨
    - å®¡æŸ¥å¼€æº MCP æœåŠ¡å™¨çš„ä»£ç 
    - å»ºç«‹æœåŠ¡ç«¯ä»£ç å®¡æŸ¥æµç¨‹

2. **è¾“å…¥éªŒè¯å’Œè¾“å‡ºè¿‡æ»¤**
   ```java
   @Service
   public class SafeMcpClient {
       
       public String callTool(String toolName, Map<String, Object> params) {
           // éªŒè¯å·¥å…·åç§°
           if (!isAllowedTool(toolName)) {
               throw new SecurityException("ä¸å…è®¸çš„å·¥å…·: " + toolName);
           }
           
           // éªŒè¯å’Œæ¸…ç†è¾“å…¥å‚æ•°
           Map<String, Object> sanitizedParams = sanitizeParams(params);
           
           // è°ƒç”¨å·¥å…·
           McpSchema.CallToolResult result = mcpClient.callTool(
               new McpSchema.CallToolRequest(toolName, sanitizedParams)
           );
           
           // éªŒè¯å’Œè¿‡æ»¤è¾“å‡º
           return sanitizeOutput(result);
       }
       
       private boolean isAllowedTool(String toolName) {
           // ç™½åå•æœºåˆ¶
           return ALLOWED_TOOLS.contains(toolName);
       }
   }
   ```

3. **ä½¿ç”¨æ²™ç®±ç¯å¢ƒ**
    - åœ¨éš”ç¦»çš„ç¯å¢ƒä¸­è¿è¡Œ MCP æœåŠ¡å™¨
    - é™åˆ¶æœåŠ¡ç«¯çš„ç³»ç»Ÿèµ„æºè®¿é—®
    - ä½¿ç”¨å®¹å™¨æŠ€æœ¯å®ç°éš”ç¦»

### 1.3 æ— æ³•æ§åˆ¶æœåŠ¡ç«¯æ•°æ®

**é—®é¢˜æè¿°ï¼š**
MCP å®¢æˆ·ç«¯æ— æ³•æ§åˆ¶æœåŠ¡ç«¯çš„æ•°æ®ã€‚å¦‚æœæœåŠ¡ç«¯æœ‰æ•°æ®å®‰å…¨é—®é¢˜ï¼Œå®¢æˆ·ç«¯ä¼šè¢«ä¸€å¹¶å¸¦å…¥ã€‚

**å½±å“ï¼š**

- æ•°æ®æ³„éœ²é£é™©
- æ•°æ®å®Œæ•´æ€§æ— æ³•ä¿è¯
- éšç§ä¿æŠ¤å›°éš¾

**è§£å†³æ–¹æ¡ˆï¼š**

1. **æ•°æ®åŠ å¯†ä¼ è¾“**
   ```java
   @Configuration
   public class SecureMcpConfig {
       
       @Bean
       public McpSyncClientCustomizer secureClientCustomizer() {
           return (name, spec) -> {
               // é…ç½® TLS/SSL
               spec.requestTimeout(Duration.ofSeconds(30));
               // å…¶ä»–å®‰å…¨é…ç½®
           };
       }
   }
   ```

2. **æœ€å°æƒé™åŸåˆ™**
    - åªæˆäºˆæœåŠ¡ç«¯å¿…è¦çš„æ•°æ®è®¿é—®æƒé™
    - ä½¿ç”¨åªè¯»æ•°æ®æº
    - å®ç°æ•°æ®è®¿é—®å®¡è®¡

3. **æ•°æ®è„±æ•**
   ```java
   @Service
   public class DataSanitizer {
       
       public Map<String, Object> sanitizeData(Map<String, Object> data) {
           Map<String, Object> sanitized = new HashMap<>();
           data.forEach((key, value) -> {
               // è„±æ•æ•æ„Ÿå­—æ®µ
               if (isSensitiveField(key)) {
                   sanitized.put(key, maskSensitiveData(value));
               } else {
                   sanitized.put(key, value);
               }
           });
           return sanitized;
       }
   }
   ```

### 1.4 ç½‘ç»œå»¶è¿Ÿå’Œæ€§èƒ½é—®é¢˜

**é—®é¢˜æè¿°ï¼š**
MCP éœ€è¦ç½‘ç»œé€šä¿¡ï¼Œå¯èƒ½å¼•å…¥å»¶è¿Ÿå’Œæ€§èƒ½é—®é¢˜ã€‚

**å½±å“ï¼š**

- å“åº”æ—¶é—´å¢åŠ 
- ååé‡ä¸‹é™
- ç”¨æˆ·ä½“éªŒå—å½±å“

**è§£å†³æ–¹æ¡ˆï¼š**

1. **æœ¬åœ°ç¼“å­˜**
   ```java
   @Service
   @Cacheable("mcp-results")
   public class CachedMcpClient {
       
       public String queryWeather(String city) {
           // ç¼“å­˜ç»“æœï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚
           return mcpClient.callTool(...);
       }
   }
   ```

2. **æ‰¹é‡æ“ä½œ**
    - å°½é‡ä½¿ç”¨æ‰¹é‡ API
    - å‡å°‘ç½‘ç»œå¾€è¿”æ¬¡æ•°
    - ä½¿ç”¨è¿æ¥æ± 

3. **å¼‚æ­¥å¤„ç†**
   ```java
   @Service
   public class AsyncMcpClient {
       
       @Async
       public CompletableFuture<String> queryWeatherAsync(String city) {
           return CompletableFuture.supplyAsync(() -> {
               return mcpClient.callTool(...);
           });
       }
   }
   ```

## 2. å®‰å…¨æ€§é—®é¢˜

### 2.1 æœåŠ¡ç«¯å®‰å…¨é£é™©

**é£é™©ç‚¹ï¼š**

- æœåŠ¡ç«¯å¯èƒ½è¢«æ¶æ„æ”»å‡»
- æœåŠ¡ç«¯ä»£ç å¯èƒ½æœ‰å®‰å…¨æ¼æ´
- æœåŠ¡ç«¯å¯èƒ½æ³„éœ²æ•æ„Ÿä¿¡æ¯

**é˜²æŠ¤æªæ–½ï¼š**

1. **æœåŠ¡ç«¯å®‰å…¨åŠ å›º**
    - å®šæœŸæ›´æ–°å’Œæ‰“è¡¥ä¸
    - ä½¿ç”¨å®‰å…¨æ¡†æ¶ï¼ˆå¦‚ Spring Securityï¼‰
    - å®ç°è®¿é—®æ§åˆ¶å’Œè®¤è¯

2. **ç½‘ç»œå®‰å…¨**
   ```java
   @Configuration
   public class McpSecurityConfig {
       
       @Bean
       public SecurityFilterChain mcpSecurityFilterChain(HttpSecurity http) {
           return http
               .authorizeHttpRequests(auth -> auth
                   .requestMatchers("/mcp/**").authenticated()
               )
               .oauth2ResourceServer(oauth2 -> oauth2
                   .jwt(jwt -> jwt.jwtDecoder(jwtDecoder()))
               )
               .build();
       }
   }
   ```

3. **è¾“å…¥éªŒè¯**
    - éªŒè¯æ‰€æœ‰è¾“å…¥å‚æ•°
    - ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
    - é˜²æ­¢æ³¨å…¥æ”»å‡»

### 2.2 æ•°æ®å®‰å…¨é£é™©

**é£é™©ç‚¹ï¼š**

- æ•°æ®ä¼ è¾“å¯èƒ½è¢«çªƒå¬
- æ•°æ®å­˜å‚¨å¯èƒ½è¢«æ³„éœ²
- æ•°æ®è®¿é—®æƒé™æ§åˆ¶ä¸å½“

**é˜²æŠ¤æªæ–½ï¼š**

1. **ä¼ è¾“åŠ å¯†**
    - ä½¿ç”¨ TLS/SSL åŠ å¯†ä¼ è¾“
    - éªŒè¯æœåŠ¡å™¨è¯ä¹¦
    - ä½¿ç”¨å¼ºåŠ å¯†ç®—æ³•

2. **å­˜å‚¨åŠ å¯†**
    - æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨
    - ä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡
    - å®šæœŸè½®æ¢å¯†é’¥

3. **è®¿é—®æ§åˆ¶**
   ```java
   @Service
   public class SecureMcpService {
       
       @PreAuthorize("hasPermission(#city, 'WEATHER_QUERY')")
       public String queryWeather(String city) {
           // æ£€æŸ¥æƒé™
           if (!hasPermission(city)) {
               throw new AccessDeniedException("æ— æƒé™æŸ¥è¯¢è¯¥åŸå¸‚å¤©æ°”");
           }
           return mcpClient.callTool(...);
       }
   }
   ```

### 2.3 è®¿é—®æƒé™é—®é¢˜

**é£é™©ç‚¹ï¼š**

- å®¢æˆ·ç«¯å¯èƒ½è¢«æ¶æ„åˆ©ç”¨
- æƒé™æ§åˆ¶ä¸å½“å¯èƒ½å¯¼è‡´è¶Šæƒè®¿é—®
- ç¼ºä¹å®¡è®¡å’Œç›‘æ§

**é˜²æŠ¤æªæ–½ï¼š**

1. **æƒé™æ§åˆ¶**
   ```java
   @Component
   public class McpPermissionChecker {
       
       public void checkToolPermission(String toolName, String userId) {
           if (!userHasPermission(userId, toolName)) {
               throw new SecurityException(
                   "ç”¨æˆ· " + userId + " æ— æƒä½¿ç”¨å·¥å…· " + toolName
               );
           }
       }
   }
   ```

2. **å®¡è®¡æ—¥å¿—**
   ```java
   @Aspect
   @Component
   public class McpAuditAspect {
       
       @Around("@annotation(Tool)")
       public Object auditToolCall(ProceedingJoinPoint joinPoint) throws Throwable {
           String toolName = joinPoint.getSignature().getName();
           String userId = getCurrentUserId();
           
           auditLog.info("ç”¨æˆ· {} è°ƒç”¨å·¥å…· {}", userId, toolName);
           
           try {
               Object result = joinPoint.proceed();
               auditLog.info("å·¥å…· {} è°ƒç”¨æˆåŠŸ", toolName);
               return result;
           } catch (Exception e) {
               auditLog.error("å·¥å…· {} è°ƒç”¨å¤±è´¥", toolName, e);
               throw e;
           }
       }
   }
   ```

3. **ç›‘æ§å’Œå‘Šè­¦**
    - ç›‘æ§å¼‚å¸¸è°ƒç”¨æ¨¡å¼
    - è®¾ç½®è®¿é—®é¢‘ç‡é™åˆ¶
    - å®ç°å®æ—¶å‘Šè­¦

## 3. å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### 3.1 Banner é”™è¯¯

**é—®é¢˜ï¼š**
å®¢æˆ·ç«¯å‡ºç° JSON è§£æé”™è¯¯ï¼Œé”™è¯¯ä¿¡æ¯ç±»ä¼¼ï¼š

```
com.fasterxml.jackson.databind.exc.MismatchedInputException: 
No content to map due to end-of-input
```

**åŸå› ï¼š**
æœåŠ¡ç«¯è¾“å‡ºäº† banner ä¿¡æ¯ï¼Œå¹²æ‰°äº† JSON-RPC åè®®é€šä¿¡ã€‚

**è§£å†³æ–¹æ¡ˆï¼š**
åœ¨æœåŠ¡ç«¯é…ç½®ä¸­ç¦ç”¨ bannerï¼š

```yml
spring:  
  main:  
    banner-mode: off
```

### 3.2 è¯·æ±‚åŒ…è£…é—®é¢˜

**é—®é¢˜ï¼š**
åœ¨æœ‰äº›ç°æœ‰çš„æœåŠ¡ä¸­å¯èƒ½ä¼šå¯¹ HTTP è¯·æ±‚ç±»è¿›è¡ŒåŒ…è£…ç¼“å­˜ä¸€å±‚ï¼Œè¿™å¯èƒ½ä¼šå½±å“ MCP çš„æ­£å¸¸å·¥ä½œã€‚

**åŸå› ï¼š**
è¯·æ±‚åŒ…è£…å¯èƒ½ä¿®æ”¹äº†è¯·æ±‚ä½“ï¼Œå¯¼è‡´ JSON-RPC æ¶ˆæ¯æ ¼å¼é”™è¯¯ã€‚

**è§£å†³æ–¹æ¡ˆï¼š**

1. **æ£€æŸ¥è¯·æ±‚åŒ…è£…å™¨**
   ```java
   @Configuration
   public class McpWebConfig implements WebMvcConfigurer {
       
       @Override
       public void addInterceptors(InterceptorRegistry registry) {
           // æ’é™¤ MCP ç«¯ç‚¹ï¼Œé¿å…è¯·æ±‚åŒ…è£…
           registry.addInterceptor(new RequestWrapperInterceptor())
               .excludePathPatterns("/mcp/**");
       }
   }
   ```

2. **ä½¿ç”¨è¿‡æ»¤å™¨æ’é™¤**
   ```java
   @Component
   public class McpRequestFilter implements Filter {
       
       @Override
       public void doFilter(ServletRequest request, 
                           ServletResponse response, 
                           FilterChain chain) {
           if (isMcpRequest(request)) {
               // MCP è¯·æ±‚ç›´æ¥é€šè¿‡ï¼Œä¸è¿›è¡ŒåŒ…è£…
               chain.doFilter(request, response);
           } else {
               // å…¶ä»–è¯·æ±‚è¿›è¡ŒåŒ…è£…
               chain.doFilter(new WrappedRequest(request), response);
           }
       }
   }
   ```

### 3.3 è¿æ¥è¶…æ—¶é—®é¢˜

**é—®é¢˜ï¼š**
å®¢æˆ·ç«¯è¿æ¥ MCP æœåŠ¡å™¨æ—¶å‡ºç°è¶…æ—¶ã€‚

**è§£å†³æ–¹æ¡ˆï¼š**

1. **å¢åŠ è¶…æ—¶æ—¶é—´**
   ```java
   @Component
   public class McpClientCustomizer implements McpSyncClientCustomizer {
       
       @Override
       public void customize(String name, McpClient.SyncSpec spec) {
           // è®¾ç½®æ›´é•¿çš„è¶…æ—¶æ—¶é—´
           spec.requestTimeout(Duration.ofSeconds(60));
       }
   }
   ```

2. **æ£€æŸ¥ç½‘ç»œè¿æ¥**
    - éªŒè¯ç½‘ç»œæ˜¯å¦é€šç•…
    - æ£€æŸ¥é˜²ç«å¢™è§„åˆ™
    - éªŒè¯æœåŠ¡ç«¯æ˜¯å¦æ­£å¸¸è¿è¡Œ

### 3.4 å·¥å…·è°ƒç”¨å¤±è´¥

**é—®é¢˜ï¼š**
å·¥å…·è°ƒç”¨è¿”å›é”™è¯¯æˆ–å¼‚å¸¸ã€‚

**è§£å†³æ–¹æ¡ˆï¼š**

1. **é”™è¯¯å¤„ç†**
   ```java
   @Service
   public class RobustMcpService {
       
       public String callToolSafely(String toolName, Map<String, Object> params) {
           try {
               McpSchema.CallToolResult result = mcpClient.callTool(
                   new McpSchema.CallToolRequest(toolName, params)
               );
               return extractResult(result);
           } catch (McpException e) {
               log.error("MCP å·¥å…·è°ƒç”¨å¤±è´¥: {}", toolName, e);
               // è¿”å›é»˜è®¤å€¼æˆ–è§¦å‘é™çº§é€»è¾‘
               return getDefaultValue(toolName);
           }
       }
   }
   ```

2. **å‚æ•°éªŒè¯**
   ```java
   @Service
   public class ValidatedMcpService {
       
       public String callTool(String toolName, Map<String, Object> params) {
           // éªŒè¯å·¥å…·æ˜¯å¦å­˜åœ¨
           List<McpSchema.Tool> tools = mcpClient.listTools().tools();
           boolean toolExists = tools.stream()
               .anyMatch(t -> t.name().equals(toolName));
           
           if (!toolExists) {
               throw new IllegalArgumentException("å·¥å…·ä¸å­˜åœ¨: " + toolName);
           }
           
           // éªŒè¯å‚æ•°
           validateParams(toolName, params);
           
           return mcpClient.callTool(
               new McpSchema.CallToolRequest(toolName, params)
           );
       }
   }
   ```

### 3.5 èµ„æºè¯»å–å¤±è´¥

**é—®é¢˜ï¼š**
è¯»å– MCP èµ„æºæ—¶å¤±è´¥ã€‚

**è§£å†³æ–¹æ¡ˆï¼š**

1. **èµ„æºå¯ç”¨æ€§æ£€æŸ¥**
   ```java
   @Service
   public class SafeResourceReader {
       
       public String readResource(String uri) {
           // å…ˆæ£€æŸ¥èµ„æºæ˜¯å¦å­˜åœ¨
           List<McpSchema.Resource> resources = 
               mcpClient.listResources().resources();
           
           boolean resourceExists = resources.stream()
               .anyMatch(r -> r.uri().equals(uri));
           
           if (!resourceExists) {
               throw new IllegalArgumentException("èµ„æºä¸å­˜åœ¨: " + uri);
           }
           
           // è¯»å–èµ„æº
           McpSchema.ReadResourceRequest request = 
               new McpSchema.ReadResourceRequest(uri);
           McpSchema.ReadResourceResult result = 
               mcpClient.readResource(request);
           
           return extractContent(result);
       }
   }
   ```

2. **ç¼“å­˜æœºåˆ¶**
   ```java
   @Service
   @Cacheable(value = "mcp-resources", key = "#uri")
   public class CachedResourceReader {
       
       public String readResource(String uri) {
           McpSchema.ReadResourceRequest request = 
               new McpSchema.ReadResourceRequest(uri);
           McpSchema.ReadResourceResult result = 
               mcpClient.readResource(request);
           return extractContent(result);
       }
   }
   ```

## 4. æœ€ä½³å®‰å…¨å®è·µ

### 4.1 å®‰å…¨é…ç½®æ¸…å•

- [ ] ä½¿ç”¨ TLS/SSL åŠ å¯†ä¼ è¾“
- [ ] å®ç°èº«ä»½è®¤è¯å’Œæˆæƒ
- [ ] éªŒè¯å’Œæ¸…ç†æ‰€æœ‰è¾“å…¥
- [ ] è¿‡æ»¤å’ŒéªŒè¯æ‰€æœ‰è¾“å‡º
- [ ] å®ç°è®¿é—®æ§åˆ¶å’Œæƒé™ç®¡ç†
- [ ] è®°å½•å®¡è®¡æ—¥å¿—
- [ ] ç›‘æ§å¼‚å¸¸è¡Œä¸º
- [ ] å®šæœŸæ›´æ–°å’Œæ‰“è¡¥ä¸
- [ ] ä½¿ç”¨æœ€å°æƒé™åŸåˆ™
- [ ] å®ç°æ•°æ®åŠ å¯†å­˜å‚¨

### 4.2 å®‰å…¨æµ‹è¯•

1. **æ¸—é€æµ‹è¯•**
    - æµ‹è¯•è¾“å…¥éªŒè¯
    - æµ‹è¯•æƒé™æ§åˆ¶
    - æµ‹è¯•æ³¨å…¥æ”»å‡»é˜²æŠ¤

2. **å®‰å…¨æ‰«æ**
    - ä¾èµ–æ¼æ´æ‰«æ
    - ä»£ç å®‰å…¨æ‰«æ
    - é…ç½®å®‰å…¨æ£€æŸ¥

3. **å®‰å…¨å®¡è®¡**
    - ä»£ç å®¡æŸ¥
    - é…ç½®å®¡æŸ¥
    - æ—¥å¿—å®¡è®¡

## 5. æ€»ç»“

MCP è™½ç„¶æä¾›äº†å¼ºå¤§çš„åŠŸèƒ½ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›å±€é™æ€§å’Œå®‰å…¨é£é™©ã€‚åœ¨ä½¿ç”¨ MCP æ—¶ï¼Œåº”è¯¥ï¼š

1. **å……åˆ†äº†è§£å±€é™æ€§**ï¼šäº†è§£ MCP çš„é™åˆ¶ï¼Œåšå¥½åº”å¯¹æ–¹æ¡ˆ
2. **é‡è§†å®‰å…¨æ€§**ï¼šå®æ–½å…¨é¢çš„å®‰å…¨é˜²æŠ¤æªæ–½
3. **å»ºç«‹ç›‘æ§æœºåˆ¶**ï¼šåŠæ—¶å‘ç°å’Œå¤„ç†é—®é¢˜
4. **åˆ¶å®šåº”æ€¥é¢„æ¡ˆ**ï¼šå‡†å¤‡é™çº§å’Œæ¢å¤æ–¹æ¡ˆ
5. **æŒç»­æ”¹è¿›**ï¼šæ ¹æ®å®é™…æƒ…å†µä¸æ–­ä¼˜åŒ–

é€šè¿‡åˆç†çš„è®¾è®¡å’Œå®‰å…¨æªæ–½ï¼Œå¯ä»¥å……åˆ†å‘æŒ¥ MCP çš„ä¼˜åŠ¿ï¼ŒåŒæ—¶è§„é¿å…¶å±€é™æ€§å’Œå®‰å…¨é£é™©ã€‚

> ğŸ“– **ç›¸å…³æ–‡æ¡£**ï¼š
> - [MCP è¿›é˜¶ä½¿ç”¨](./1.mcp-advanced.md) - æ·±å…¥äº†è§£ MCP çš„é«˜çº§åŠŸèƒ½
> - [MCP æ˜¯æœ€ä¼˜è§£å—ï¼Ÿ](./2.mcp-not-best.md) - äº†è§£ MCP çš„é€‚ç”¨åœºæ™¯
