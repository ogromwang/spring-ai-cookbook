# Chat Client API

Chat Client API 是 Spring AI 提供的高级 API,它简化了与 AI 模型的交互流程。相比于直接使用底层的 `ChatModel` 接口,`ChatClient` 提供了更加流畅和易用的 API 设计。

## 核心特性

- **流式 API 设计**: 使用链式调用构建对话请求,代码更加简洁易读
- **自动装配**: Spring Boot 会根据配置自动创建相应的 `ChatModel` 实例
- **灵活配置**: 支持通过配置文件灵活切换不同的 AI 模型提供商
- **统一接口**: 屏蔽了不同 AI 服务商的差异,提供统一的编程体验

## 基本用法

[SimpleChatClientExampleTest](https://github.com/dong4j/spring-ai-cookbook/blob/main/1.spring-ai-started/src/test/java/dev/dong4j/ai/spring/chatclient/SimpleChatClientExampleTest.java)

::: code-group

```xml [xml:添加依赖]
<dependency>
    <groupId>org.springframework.ai</groupId>
    <artifactId>spring-ai-starter-model-openai</artifactId>
</dependency>
```

```yaml [yaml:添加配置]
spring:
  ai:
    openai:
      api-key: ${QIANWEN_API_KEY}
      base-url: https://dashscope.aliyuncs.com/compatible-mode
      chat:
        options:
          model: qwen2.5-14b-instruct
```

```java [java:修改启动类]
@Service
public class SimpleChatClientExample {

    private final ChatClient chatClient;

    public SimpleChatClientExample(ChatClient.Builder chatClientBuilder) {
        this.chatClient = chatClientBuilder.build();
    }

    public String chat(String userMessage) {
        return chatClient.prompt().user(userMessage).call().content();
    }
}

```

```java [java:测试用例]
@SpringBootTest
class SimpleChatClientExampleTest {

    @Resource
    private SimpleChatClientExample chatClientExample;

    @Test
    void testChat() {
        String response = chatClientExample.chat("你好");
        assertThat(response).isNotNull();
        assertThat(response).isNotEmpty();
        System.out.println("AI 回复: " + response);
    }
}
```

:::

## 问题

### AI 输出后为什么没有退出应用

## 继续深入

- [[2.spring-ai-chat-client/index|Chat Client API 进阶学习]]

---
